<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Portfolio - LINE Specialist</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Prompt', sans-serif; }
        
        /* Custom Scrollbar */
        .json-scroll::-webkit-scrollbar { width: 8px; height: 8px; }
        .json-scroll::-webkit-scrollbar-track { background: #1e293b; border-radius: 4px; }
        .json-scroll::-webkit-scrollbar-thumb { background: #475569; border-radius: 4px; }
        .json-scroll::-webkit-scrollbar-thumb:hover { background: #64748b; }

        /* Animations */
        @keyframes fade-in-up { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in-up { animation: fade-in-up 0.8s ease-out forwards; }
        @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
        .animate-fade-in { animation: fade-in 0.3s ease-out forwards; }
        
        .hide-scroll::-webkit-scrollbar { display: none; }
        .hide-scroll { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- Icons ---
        const Icon = ({ name, size = 24, className }) => {
            if (!window.lucide) return <span className={className}>Icon</span>;
            useEffect(() => { lucide.createIcons(); }, [name]);
            return <i data-lucide={name} className={className} width={size} height={size}></i>;
        };

        // --- Modal ---
        const JsonModal = ({ title, code, onClose }) => {
            const [copied, setCopied] = useState(false);
            const handleCopy = () => {
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(JSON.stringify(code, null, 2));
                    setCopied(true);
                    setTimeout(() => setCopied(false), 2000);
                }
            };
            return (
                <div className="fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in">
                    <div className="bg-slate-900 w-full max-w-3xl rounded-2xl overflow-hidden shadow-2xl flex flex-col max-h-[90vh]">
                        <div className="flex justify-between items-center p-4 border-b border-slate-700 bg-slate-800">
                            <h3 className="text-white font-bold flex items-center"><Icon name="code" size={20} className="mr-2 text-green-400" /> {title} - JSON Source</h3>
                            <button onClick={onClose} className="text-slate-400 hover:text-white"><Icon name="x" size={24} /></button>
                        </div>
                        <div className="flex-1 overflow-auto p-6 bg-[#0d1117] json-scroll">
                            <pre className="text-sm font-mono text-green-400 leading-relaxed whitespace-pre-wrap break-all">{JSON.stringify(code, null, 2)}</pre>
                        </div>
                        <div className="p-4 border-t border-slate-700 bg-slate-800 flex justify-end gap-3">
                            <button onClick={handleCopy} className={`flex items-center px-4 py-2 rounded-lg text-sm font-medium transition ${copied ? 'bg-green-600 text-white' : 'bg-slate-700 text-slate-200'}`}><Icon name={copied ? "check" : "copy"} size={16} className="mr-2" /> {copied ? "Copied!" : "Copy JSON"}</button>
                            <button onClick={onClose} className="px-4 py-2 rounded-lg bg-slate-600 text-white text-sm font-medium hover:bg-slate-500">Close</button>
                        </div>
                    </div>
                </div>
            );
        };

        // --- Renderers ---
        const LotteryFlexRenderer = ({ json }) => {
            if (!json || !json.body) return null;
            const mainContents = json.body?.contents?.[0]?.contents;
            if (!mainContents) return <div className="text-xs text-red-500">Error: Invalid JSON Structure</div>;

            const items = [0, 2, 4].map(idx => {
                const row = mainContents[idx];
                if (!row) return null;
                const iconUrl = row.contents?.[0]?.contents?.[0]?.url;
                const textBox = row.contents?.[1];
                const title = textBox?.contents?.[0]?.text || "";
                const sub = textBox?.contents?.[1]?.text || "";
                return { img: iconUrl, title, sub };
            }).filter(Boolean);

            const headerRatio = json.header?.contents?.[0]?.aspectRatio 
                ? json.header.contents[0].aspectRatio.replace(':', '/') 
                : 'auto';
            const heroRatio = json.hero?.aspectRatio 
                ? json.hero.aspectRatio.replace(':', '/') 
                : '16/9';
            
            return (
                <div className="bg-white w-full  h-[500px] flex flex-col border border-slate-200 shadow-sm mx-auto overflow-hidden rounded-md">
{/* Header: ให้ความสูงปรับตามรูปภาพแต่ไม่ให้หด (flex-shrink-0) */}
                    {json.header?.contents?.[0]?.url && (
                        <div className=" w-full h-[20] bg-slate-50 relative">
                             <img src={json.header.contents[0].url} className="w-full object-contain block" style={{aspectRatio: 20/3}} />
                        </div>
                    )}
{/* Hero (Video Section) */}
                    {json.hero && (
                        <div className="relative w-full bg-black">
                            {json.hero.type === 'video' ? (
                                <div className="relative w-full" style={{aspectRatio: json.hero.aspectRatio ? json.hero.aspectRatio.replace(':','/') : '16/9'}}>
                                    <img src={json.hero.altContent?.url || json.hero.previewUrl} className="w-full h-full object-cover opacity-90" />
                                    
                                    {/* --- ส่วน Action Overlay --- */}
                                    {/* ปกติ: bg-black/10 (จางๆ) */}
                                    {/* Hover: bg-black/40 (เงาเทาเข้มขึ้นเต็มหน้าจอ) */}
                                    <div className="absolute inset-0 flex items-center justify-center bg-black/10 group-hover:bg-black/20 transition-colors duration-300 group cursor-pointer">
                                        {/* ปุ่ม Play: ให้ขยายเล็กน้อย แต่ไม่ต้องมีเงาแยกต่างหากแล้ว เพราะ Overlay ทำหน้าที่บอกสถานะ Hover แล้ว */}
                                        <div className="w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center  border border-white/30 
                                                        transition-transform duration-300 group-hover:scale-110">
                                            <Icon name="play" size={25} className="text-white fill-white ml-1" />
                                        </div>
                                    </div>
                                </div>
                            ) : (
                                <img src={json.hero.url} className="w-full object-cover" style={{aspectRatio: json.hero.aspectRatio?.replace(':','/')}} />
                            )}
                        </div>
                    )}
                    <div className="flex flex-col">
                        {items.map((item, i) => (
                            <div key={i} className="flex items-center p-4 gap-4 border-b border-slate-100 last:border-0 hover:bg-slate-50 transition-colors cursor-pointer group">
                                <div className="w-[70px] h-[60px] flex-shrink-0 bg-slate-50 rounded-2xl flex items-center justify-center border border-slate-100 group-hover:border-green-200 transition-colors overflow-hidden">
                                    <img src={item.img} className="w-full h-full object-contain" />
                                </div>
                                <div className="flex-1 min-w-0">
                                    <h4 className="font-bold text-lg text-slate-900 truncate leading-tight">{item.title}</h4>
                                    <p className="text-sm text-slate-500 truncate mt-0.5">{item.sub}</p>
                                </div>
                                <div className="w-6 opacity-40 group-hover:opacity-100 transition-opacity">
                                    <img src="https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_button/next.png" className="w-full" />
                                </div>
                            </div>
                        ))}
                    </div>
                    <div className="h-2 w-full" style={{ backgroundColor: json.footer?.backgroundColor || '#ff0200' }}></div>
                </div>
            );
        };




        const Type2CarouselRenderer = ({ json }) => {
            if (!json || json.type !== 'carousel') return null;

            const scrollRef = React.useRef(null);
            const [canScrollLeft, setCanScrollLeft] = React.useState(false);
            const [canScrollRight, setCanScrollRight] = React.useState(true);

            // ฟังก์ชันตรวจสอบตำแหน่ง Scroll เพื่อซ่อน/แสดงปุ่ม
            const checkScroll = () => {
                if (scrollRef.current) {
                    const { scrollLeft, scrollWidth, clientWidth } = scrollRef.current;
                    // อยู่ซ้ายสุดหรือไม่? (เผื่อค่าคลาดเคลื่อนเล็กน้อยใช้ > 1)
                    setCanScrollLeft(scrollLeft > 1);
                    // อยู่ขวาสุดหรือไม่? (ใช้ Math.ceil เผื่อทศนิยม)
                    setCanScrollRight(Math.ceil(scrollLeft + clientWidth) < scrollWidth);
                }
            };

            // ตรวจสอบตอนโหลดครั้งแรกและตอน Scroll
            React.useEffect(() => {
                checkScroll();
                const timer = setTimeout(checkScroll, 500);
                const el = scrollRef.current;
                if (el) {
                    el.addEventListener('scroll', checkScroll);
                    window.addEventListener('resize', checkScroll);
                }
                return () => {
                    clearTimeout(timer);
                    if (el) el.removeEventListener('scroll', checkScroll);
                    window.removeEventListener('resize', checkScroll);
                };
            }, []);

            const scroll = (offset) => {
                if (scrollRef.current) {
                    scrollRef.current.scrollBy({ left: offset, behavior: 'smooth' });
                }
            };

            return (
                <div className="relative group/carousel w-full">
                    {/* ปุ่มลูกศรซ้าย: ขยับออกไปด้านซ้าย (-left-12) และซ่อนถ้าเลื่อนไม่ได้ */}
                    <button 
                        onClick={() => scroll(-310)}
                        className={`absolute -left-7 top-1/2 -translate-y-1/2 z-20 w-10 h-10 bg-white/50 backdrop-blur-sm shadow-md rounded-full flex items-center justify-center text-slate-700 hover:text-red-600 hover:scale-110 transition-all duration-300
                            ${canScrollLeft ? 'opacity-0 group-hover/carousel:opacity-100 visible' : 'opacity-0 invisible'}`}
                    >
                        <Icon name="chevron-left" size={28} />
                    </button>

                    {/* Container ของ Carousel */}
                    <div ref={scrollRef} className="flex overflow-x-auto py-2 gap-3 snap-x w-full hide-scroll pl-1 scroll-smooth">
                        {json.contents.map((bubble, i) => {
                            return (
                                <div key={i} className="flex-shrink-0 snap-center rounded-xl overflow-hidden shadow-sm relative group cursor-pointer transition-transform hover:scale-[1.02]" style={{width: '300px', aspectRatio: '3/3.2'}}>
                                    {bubble.hero && (
                                        <img src={bubble.hero.url} className="w-full h-full object-cover" loading="lazy" />
                                    )}
                                    <div className="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-4">
                                    </div>
                                </div>
                            )
                        })}
                    </div>

                    {/* ปุ่มลูกศรขวา: ขยับออกไปด้านขวา (-right-12) และซ่อนถ้าเลื่อนไม่ได้ */}
                    <button 
                        onClick={() => scroll(310)}
                        className={`absolute -right-7 top-1/2 -translate-y-1/2 z-20 w-10 h-10 bg-white/50 backdrop-blur-sm shadow-md rounded-full flex items-center justify-center text-slate-700 hover:text-red-600 hover:scale-110 transition-all duration-300
                            ${canScrollRight ? 'opacity-0 group-hover/carousel:opacity-100 visible' : 'opacity-0 invisible'}`}
                    >
                        <Icon name="chevron-right" size={28} />
                    </button>
                </div>
            )
        };





const Type3CarouselRenderer = ({ json }) => {
            if (!json || json.type !== 'carousel') return null;

            // --- Helper Functions ---
            const findTexts = (node) => {
                if (!node) return [];
                if (node.type === 'text' && node.text && node.text.trim() !== '') return [node.text];
                if (node.contents && Array.isArray(node.contents)) {
                    let texts = [];
                    for (let c of node.contents) {
                        texts = [...texts, ...findTexts(c)];
                    }
                    return texts;
                }
                return [];
            };

            const findImageUrl = (node) => {
                if (!node) return null;
                if (node.type === 'image') return node.url;
                if (node.contents && Array.isArray(node.contents)) {
                    for (let c of node.contents) {
                        const found = findImageUrl(c);
                        if (found) return found;
                    }
                }
                return null;
            };

            const findWhiteBoxes = (node) => {
                if (!node) return [];
                if (node.type === 'box' && node.backgroundColor === '#ffffff') return [node];
                if (node.contents && Array.isArray(node.contents)) {
                    let boxes = [];
                    for (let c of node.contents) {
                        boxes = [...boxes, ...findWhiteBoxes(c)];
                    }
                    return boxes;
                }
                return [];
            };

            const findWarningText = (node) => {
                if (!node) return null;
                if (node.type === 'text' && node.position === 'absolute' && node.text.includes('ความเชื่อ')) return node.text;
                if (node.contents && Array.isArray(node.contents)) {
                    for (let c of node.contents) {
                        const found = findWarningText(c);
                        if (found) return found;
                    }
                }
                return null;
            };

            // --- Scroll Logic ---
            const scrollRef = React.useRef(null);
            const [canScrollLeft, setCanScrollLeft] = React.useState(false);
            const [canScrollRight, setCanScrollRight] = React.useState(true);

            const checkScroll = () => {
                if (scrollRef.current) {
                    const { scrollLeft, scrollWidth, clientWidth } = scrollRef.current;
                    setCanScrollLeft(scrollLeft > 1);
                    setCanScrollRight(Math.ceil(scrollLeft + clientWidth) < scrollWidth);
                }
            };

            React.useEffect(() => {
                checkScroll();
                const timer = setTimeout(checkScroll, 500);
                const el = scrollRef.current;
                if (el) {
                    el.addEventListener('scroll', checkScroll);
                    window.addEventListener('resize', checkScroll);
                }
                return () => {
                    clearTimeout(timer);
                    if (el) el.removeEventListener('scroll', checkScroll);
                    window.removeEventListener('resize', checkScroll);
                };
            }, []);

            const scroll = (offset) => {
                if (scrollRef.current) {
                    scrollRef.current.scrollBy({ left: offset, behavior: 'smooth' });
                }
            };

            return (
                <div className="relative group/carousel w-full">
                    {/* ปุ่มลูกศรซ้าย */}
                    <button 
                        onClick={() => scroll(-310)}
                        className={`absolute -left-7 top-1/2 -translate-y-1/2 z-20 w-10 h-10 bg-white/50 backdrop-blur-sm shadow-md rounded-full flex items-center justify-center text-slate-700 hover:text-red-600 hover:scale-110 transition-all duration-300
                            ${canScrollLeft ? 'opacity-0 group-hover/carousel:opacity-100 visible' : 'opacity-0 invisible'}`}
                    >
                        <Icon name="chevron-left" size={28} />
                    </button>

                    {/* Container ของ Carousel */}
                    <div ref={scrollRef} className="flex overflow-x-auto py-2 gap-3 snap-x w-full hide-scroll pl-1 scroll-smooth">
                        {json.contents.map((bubble, i) => {
                            const isCover = i === 0;
                            // --- Logic การ Render การ์ด Cover ---
                            if (isCover) {
                                const bodyContents = bubble.body.contents;
                                const heroImg = bubble.hero?.url;
                                const bgPatternUrl = bodyContents[0]?.url;
                                const titleImgUrl = bodyContents[2]?.url; 
                                const dateText = bodyContents[3]?.text;
                                const mascotUrl = bodyContents[4]?.url;
                                const bgGradient = bubble.body.background;
                                const gradientStyle = bgGradient ? { background: `linear-gradient(${bgGradient.angle}, ${bgGradient.startColor}, ${bgGradient.endColor})` } : {};

                                return (
                                    <div key={i} className="flex-shrink-0 snap-center rounded-2xl overflow-hidden shadow-sm border border-slate-100 relative flex flex-col" style={{height: '320px', aspectRatio: '3/4'}}>
                                        <div className="bg-white pt-2 pb-2 flex justify-center items-center h-[35px]">
                                            <img src={heroImg} className="w-[150px] object-contain" />
                                        </div>
                                        <div className="flex-1 relative overflow-hidden" style={gradientStyle}>
                                            <div className="relative w-full h-full">
                                                <img src={bgPatternUrl} className="absolute w-full h-full object-cover z-0" />
                                                <div className="relative w-full h-full flex flex-col items-center" style={{top: '-10px'}}>
                                                    <img src={titleImgUrl} className="w-[85%] object-contain z-10 " />
                                                    <div className="absolute w-full text-center z-20" style={{top: '70px'}}>
                                                        <p className="text-[10px] font-bold text-white drop-shadow-md">ประจำงวดวันที่ 16 พฤศจิกายน 2568</p>
                                                    </div>
                                                    <img src={mascotUrl} className="absolute w-[60%] object-contain z-30 py-[80px]" style={{bottom: '-35px'}} />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                );
                            }

                            // --- Logic การ Render การ์ดปกติ ---
                            const contentBoxes = findWhiteBoxes(bubble.body);
                            const warningText = findWarningText(bubble.body) || "";

                            if (contentBoxes.length === 0) return <div key={i} className="w-[260px] h-[420px] bg-red-50 flex items-center justify-center text-red-400">No Content</div>;

                            return (
                                <div key={i} className="flex-shrink-0 snap-center bg-white rounded-2xl overflow-hidden shadow-sm border border-slate-100 relative flex flex-col" style={{height: '320px', aspectRatio: '3/4'}}>
                                    <div className="flex-1 overflow-y-auto hide-scroll p-4 space-y-4">
                                        {contentBoxes.map((contentBox, boxIdx) => {
                                            const innerContents = contentBox.contents || [];
                                            const headerBox = innerContents[0];
                                            let headerLogoUrl = null;
                                            let headerGradient = null;
                                            if (headerBox.type === 'image') {
                                                headerLogoUrl = headerBox.url;
                                            } else {
                                                headerLogoUrl = findImageUrl(headerBox);
                                                headerGradient = headerBox.background;
                                            }
                                            const headerStyle = headerGradient ? { background: `linear-gradient(${headerGradient.angle}, ${headerGradient.startColor}, ${headerGradient.endColor})` } : { backgroundColor: '#ffffff' };
                                            const restNodes = innerContents.slice(1);
                                            let allTexts = [];
                                            restNodes.forEach(n => { allTexts = [...allTexts, ...findTexts(n)]; });
                                            allTexts = allTexts.filter(t => t && t.trim().length > 0);
                                            const numbers = [];
                                            let labelText = "";
                                            allTexts.forEach(txt => {
                                                if (/^\d+$/.test(txt)) { numbers.push(txt); } else { labelText = txt; }
                                            });

                                            return (
                                                <div key={boxIdx} className="bg-white rounded-xl overflow-hidden shadow-sm border border-slate-100 flex flex-col">
                                                    {/* Header: ลด Padding ล่าง (pb-0) เพื่อให้รูปชิดขอบล่างมากขึ้น */}
                                                    <div className="p-3 pb-0 relative h-[60px] flex items-center justify-center overflow-hidden" style={headerStyle}>
                                                        {headerLogoUrl ? <img src={headerLogoUrl} className={`${headerGradient ? 'w-[70%]' : 'w-full'} h-full object-contain relative z-10`} /> : null}
                                                        {headerGradient && <div className="absolute inset-2 border border-white/20 rounded-lg pointer-events-none"></div>}
                                                    </div>
                                                    
                                                    {/* Body: ลด Padding บน (pt-0) เพื่อดึงข้อความขึ้นไปใกล้รูป */}
                                                    <div className="px-4 pb-4 pt-0 flex flex-col items-center gap-1 bg-slate-50/50">
                                                        <div className="flex w-full justify-center gap-4 px-2">
                                                            {numbers.slice(0, 2).map((t, idx) => (
                                                                <span key={idx} className="text-2xl font-bold text-slate-800 tracking-wider">{t}</span>
                                                            ))}
                                                        </div>
                                                        {numbers.length > 2 && <div className="w-1/2 h-[1px] bg-slate-200"></div>}
                                                        <div className="flex w-full justify-center gap-2 px-2 flex-wrap">
                                                            {numbers.slice(2).map((t, idx) => (
                                                                <span key={idx} className="text-sm font-bold text-slate-600 bg-white px-1 rounded shadow-sm border border-slate-100 min-w-[20px] text-center">{t}</span>
                                                            ))}
                                                        </div>
                                                        {labelText && <span className="text-xs font-bold text-slate-600 mt-1">{labelText}</span>}
                                                    </div>
                                                </div>
                                            );
                                        })}
                                    </div>
                                    <div className="h-6 w-full relative">
                                        {warningText && <p className="text-[9px] text-slate-400 absolute bottom-1 right-2 text-right w-full">{warningText}</p>}
                                    </div>
                                </div>
                            );
                        })}
                    </div>

                    {/* ปุ่มลูกศรขวา */}
                    <button 
                        onClick={() => scroll(310)}
                        className={`absolute -right-7 top-1/2 -translate-y-1/2 z-20 w-10 h-10 bg-white/50 backdrop-blur-sm shadow-md rounded-full flex items-center justify-center text-slate-700 hover:text-red-600 hover:scale-110 transition-all duration-300
                            ${canScrollRight ? 'opacity-0 group-hover/carousel:opacity-100 visible' : 'opacity-0 invisible'}`}
                    >
                        <Icon name="chevron-right" size={28} />
                    </button>
                </div>
            );
        };

                                
        
        
        

        const Type4StepRenderer = ({ json }) => {
            if (!json) return null;

            // Helper สำหรับหา Aspect Ratio ของ Header Image (เหมือน Type 1)
            const headerRatio = json.header?.contents?.[0]?.aspectRatio 
                ? json.header.contents[0].aspectRatio.replace(':', '/') 
                : 'auto';

            const renderNode = (node, index) => {
                if (!node) return null;
                const key = index;

                let style = {
                    flex: node.flex,
                    width: node.width,
                    height: node.height,
                    backgroundColor: node.backgroundColor,
                    borderRadius: node.cornerRadius,
                    borderColor: node.borderColor,
                    borderWidth: node.borderWidth,
                };

                if (node.paddingAll) style.padding = node.paddingAll;
                if (node.paddingTop) style.paddingTop = node.paddingTop;
                if (node.paddingBottom) style.paddingBottom = node.paddingBottom;
                if (node.paddingStart) style.paddingLeft = node.paddingStart;
                if (node.paddingEnd) style.paddingRight = node.paddingEnd;

                if (node.background && node.background.type === 'linearGradient') {
                    style.background = `linear-gradient(${node.background.angle || '0deg'}, ${node.background.startColor}, ${node.background.endColor})`;
                }

                let positionClass = "relative ";
                if (node.position === 'absolute') {
                    positionClass = "absolute ";
                    if (node.offsetTop) style.top = node.offsetTop;
                    if (node.offsetBottom) style.bottom = node.offsetBottom;
                    if (node.offsetStart) style.left = node.offsetStart;
                    if (node.offsetEnd) style.right = node.offsetEnd;
                }

                let marginClass = "";
                const marginMap = { xl: 'mt-4', lg: 'mt-3', md: 'mt-2', sm: 'mt-1', xs: 'mt-0.5' };
                if (node.margin && marginMap[node.margin]) marginClass = marginMap[node.margin];

                const isClickable = !!node.action;
                const ElementType = isClickable ? 'a' : 'div';
                
                const actionProps = isClickable ? {
                    href: node.action.uri,
                    target: '_blank',
                    rel: 'noreferrer',
                    className: 'cursor-pointer transition-transform duration-200 hover:scale-105 active:scale-95' 
                } : {};

                if (node.type === 'text') {
                    style.color = node.color;
                    let textClass = "break-words leading-tight ";
                    const sizeMap = { xxs: 'text-[10px]', xs: 'text-xs', sm: 'text-sm', md: 'text-base', lg: 'text-lg', xl: 'text-xl', xxl: 'text-2xl', '3xl': 'text-3xl', '4xl': 'text-4xl', '5xl': 'text-5xl' };
                    textClass += (sizeMap[node.size] || 'text-base') + " ";
                    
                    if (node.weight === 'bold') textClass += "font-bold ";
                    if (node.style === 'italic') textClass += "italic ";
                    if (node.decoration === 'underline') textClass += "underline ";
                    
                    if (node.wrap) {
                        textClass += "text-left self-start ";
                    } else if (node.color === '#ffffff' && node.weight === 'bold') {
                        textClass += "text-center w-full h-full flex items-center justify-center "; 
                        marginClass = ""; 
                    } else {
                        if (node.align === 'center') textClass += "text-center ";
                        else if (node.align === 'end') textClass += "text-right ";
                        
                        if (node.gravity === 'center') textClass += "self-center ";
                        if (node.gravity === 'bottom') textClass += "self-end ";
                        if (node.gravity === 'top') textClass += "self-start ";
                    }

                    return (
                        <ElementType key={key} style={style} className={`${positionClass} ${textClass} ${marginClass} ${actionProps.className || ''}`} {...actionProps}>
                            {node.text}
                        </ElementType>
                    );
                }

                if (node.type === 'box') {
                    let boxClass = "flex ";
                    boxClass += node.layout === 'horizontal' ? "flex-row " : "flex-col ";
                    
                    if (node.justifyContent === 'center') boxClass += "justify-center ";
                    else if (node.justifyContent === 'flex-end') boxClass += "justify-end ";
                    else if (node.justifyContent === 'space-between') boxClass += "justify-between ";
                    
                    if (node.alignItems === 'center') boxClass += "items-center ";
                    else if (node.alignItems === 'flex-end') boxClass += "items-end ";
                    else if (node.alignItems === 'flex-start') boxClass += "items-start ";
                    
                    const gapMap = { xs: 'gap-1', sm: 'gap-2', md: 'gap-3', lg: 'gap-4', xl: 'gap-5' };
                    if (node.spacing && gapMap[node.spacing]) boxClass += gapMap[node.spacing] + " ";

                    return (
                        <ElementType key={key} style={style} className={`${positionClass} ${boxClass} ${marginClass} ${actionProps.className || ''}`} {...actionProps}>
                            {node.contents?.map((child, i) => renderNode(child, i))}
                        </ElementType>
                    );
                }

                if (node.type === 'image') {
                    const imgStyle = { ...style, objectFit: node.aspectMode === 'cover' ? 'cover' : 'contain' };
                    if (node.aspectRatio) imgStyle.aspectRatio = node.aspectRatio.replace(':', '/');
                    
                    let imgClass = "max-w-full block ";
                    if (node.gravity === 'center') imgClass += "self-center ";
                    
                    if (isClickable) {
                         return (
                             <a key={key} {...actionProps} style={{ display: 'contents' }}>
                                 <img src={node.url} style={imgStyle} className={`${positionClass} ${imgClass} ${marginClass} ${actionProps.className}`} />
                             </a>
                         )
                    }
                    return <img key={key} src={node.url} style={imgStyle} className={`${positionClass} ${imgClass} ${marginClass}`} />;
                }

                if (node.type === 'filler') return <div key={key} style={{flex: 1}} />;
                
                return null;
            };

            // กำหนด Style พื้นหลัง Header (Gradient)
            const headerStyle = {};
            if (json.header?.background?.type === 'linearGradient') {
                headerStyle.background = `linear-gradient(${json.header.background.angle}, ${json.header.background.startColor}, ${json.header.background.endColor})`;
            } else if (json.header?.backgroundColor) {
                headerStyle.backgroundColor = json.header.backgroundColor;
            }
            
            // [UPDATED] ไม่ดึง Padding/Height จาก JSON แล้ว เพื่อบังคับจัด Layout เองให้เหมือน Type 1
            headerStyle.padding = 0; // Reset padding เป็น 0
            headerStyle.height = 'auto'; // ให้สูงตามรูปภาพ

            return (
                <div className="bg-white w-full h-[500px] border border-slate-200 shadow-sm rounded-md overflow-hidden flex flex-col">
                    {/* Header: ปรับให้เหมือน Type 1 คือรูปเต็มพื้นที่ (แต่มี BG Gradient รองหลัง) */}
                    {json.header && (
                        <div style={headerStyle} className="flex flex-col justify-center items-center relative flex-shrink-0 w-full">
                            {json.header.contents.map((c, i) => {
                                // ถ้าเป็นรูปภาพ ให้บังคับ Aspect Ratio และความกว้างเต็ม
                                if (c.type === 'image') {
                                    return <img key={i} src={c.url} className=" w-[200px] h-[45px] object-contain block" style={{aspectRatio:20/3}} />;
                                }
                                return renderNode(c, i);
                            })}
                        </div>
                    )}
                    
                    {/* Hero (Video Section) */}
                    {json.hero && (
                        <div className="relative w-full bg-black flex-shrink-0">
                            {json.hero.type === 'video' ? (
                                <div className="relative w-full" style={{aspectRatio: json.hero.aspectRatio ? json.hero.aspectRatio.replace(':','/') : '16/9'}}>
                                    <img src={json.hero.altContent?.url || json.hero.previewUrl} className="w-full h-full object-cover opacity-90" />
                                    
                                    {/* Action Overlay */}
                                    <div className="absolute inset-0 flex items-center justify-center bg-black/10 group-hover:bg-black/20 transition-colors duration-300 group cursor-pointer">
                                        <div className="w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center border border-white/30 
                                                        transition-transform duration-300 group-hover:scale-110">
                                            <Icon name="play" size={25} className="text-white fill-white ml-1" />
                                        </div>
                                    </div>

                                    {/* Action Label */}
                                    {json.hero.action && (
                                        <div className="absolute bottom-3 right-3 bg-red-600 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-md flex items-center pointer-events-none z-10">
                                            {json.hero.action.label} <Icon name="chevron-right" size={14} className="ml-1" />
                                        </div>
                                    )}
                                </div>
                            ) : (
                                <img src={json.hero.url} className="w-full object-cover" style={{aspectRatio: json.hero.aspectRatio?.replace(':','/')}} />
                            )}
                        </div>
                    )}

                    {/* Body */}
                    {json.body && (
                        <div className="p-4 flex-1 hide-scroll">
                            {renderNode(json.body)}
                        </div>
                    )}

                    {/* Footer */}
                    {json.footer && (
                        <div className="p-4 pt-2 pb-10 border-t border-slate-50 flex justify-center flex-shrink-0">
                            {renderNode(json.footer)}
                        </div>
                    )}
                </div>
            )
        };
        
        
        
        const Type5ProcessRenderer = ({ json }) => {
            if (!json) return null;
            const containerBox = json.body?.contents?.[0]; 
            if (!containerBox) return null;
            const stepsContainer = containerBox.contents?.find(c => c.type === "box" && c.layout === "horizontal");

            const renderStepCircle = (boxNode) => {
                if (!boxNode) return null;
                const innerCircle = boxNode.contents?.[0]?.contents?.[0]; 
                const circleStyle = {
                    width: innerCircle?.width || '44px',
                    height: innerCircle?.height || '44px',
                    borderRadius: '50%',
                    backgroundColor: innerCircle?.backgroundColor || 'transparent',
                    border: innerCircle?.borderColor ? `${innerCircle.borderWidth || '1px'} solid ${innerCircle.borderColor}` : 'none',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    overflow: 'hidden'
                };
                const imgNode = innerCircle?.contents?.[0];
                const hasImage = imgNode?.type === 'image';
                const textNode = boxNode.contents?.[1];
                const labelText = textNode?.contents?.[0]?.text || textNode?.text || "";

                return (
                    <div className="flex flex-col items-center relative z-10">
                        <div style={circleStyle} className="shadow-sm">
                            {hasImage && <img src={imgNode.url} style={{width: imgNode.size || '20px'}} className="object-cover" />}
                            {!hasImage && <div className="w-2 h-2 rounded-full bg-white/20"></div>}
                        </div>
                        <span className="text-[10px] text-slate-600 mt-2 font-medium text-center max-w-[60px] leading-tight">{labelText}</span>
                    </div>
                );
            };

            const steps = stepsContainer?.contents?.filter(c => c.type === "box" && c.layout === "vertical") || [];

            return (
                <div className="bg-[#f9f5f2] w-full border border-slate-200 shadow-sm rounded-md overflow-hidden flex flex-col">
                    {/* Hero (Video Section) */}
                    {json.hero && (
                        <div className="relative w-full bg-black">
                            {json.hero.type === 'video' ? (
                                <div className="relative w-full" style={{aspectRatio: json.hero.aspectRatio ? json.hero.aspectRatio.replace(':','/') : '16/9'}}>
                                    <img src={json.hero.altContent?.url || json.hero.previewUrl} className="w-full h-full object-cover opacity-90" />
                                    
                                    {/* --- ส่วน Action Overlay --- */}
                                    {/* ปกติ: bg-black/10 (จางๆ) */}
                                    {/* Hover: bg-black/40 (เงาเทาเข้มขึ้นเต็มหน้าจอ) */}
                                    <div className="absolute inset-0 flex items-center justify-center bg-black/10 group-hover:bg-black/20 transition-colors duration-300 group cursor-pointer ">
                                    {/* <div className="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-4">*/}
                                        {/* ปุ่ม Play: ให้ขยายเล็กน้อย แต่ไม่ต้องมีเงาแยกต่างหากแล้ว เพราะ Overlay ทำหน้าที่บอกสถานะ Hover แล้ว */}
                                        
                                        <div className="w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center  border border-white/30 
                                                        transition-transform duration-300 group-hover:scale-110">
                                            <Icon name="play" size={25} className="text-white fill-white ml-1" />
                                        </div>
                                        
                                    </div>
                                </div>
                            ) : (
                                <img src={json.hero.url} className="w-full object-cover" style={{aspectRatio: json.hero.aspectRatio?.replace(':','/')}} />
                            )}
                            
                        </div>
                    )}
                    <div className="p-6 relative min-h-[150px] flex flex-col items-center">
                        <div className="absolute top-[45px] left-0 right-0 mx-auto w-[200px] h-[3px] z-0 rounded-full" 
                             style={{ background: 'linear-gradient(90deg, #EAEAEA, #c0c0c0, #ff0000)' }}>
                        </div>
                        <div className="flex justify-between w-full max-w-[280px] z-10 relative mt-2">
                             {steps.map((step, idx) => (
                                 <React.Fragment key={idx}>
                                     {renderStepCircle(step)}
                                 </React.Fragment>
                             ))}
                        </div>
                    </div>
                </div>
            );
        };





        const Type6PortraitCarouselRenderer = ({ json }) => {
            if (!json || json.type !== 'carousel') return null;

            const scrollRef = React.useRef(null);
            const [canScrollLeft, setCanScrollLeft] = React.useState(false);
            const [canScrollRight, setCanScrollRight] = React.useState(true);

            // ฟังก์ชันตรวจสอบตำแหน่ง Scroll เพื่อซ่อน/แสดงปุ่ม
            const checkScroll = () => {
                if (scrollRef.current) {
                    const { scrollLeft, scrollWidth, clientWidth } = scrollRef.current;
                    // อยู่ซ้ายสุดหรือไม่? (เผื่อค่าคลาดเคลื่อนเล็กน้อยใช้ > 1)
                    setCanScrollLeft(scrollLeft > 1);
                    // อยู่ขวาสุดหรือไม่? (ใช้ Math.ceil เผื่อทศนิยม)
                    setCanScrollRight(Math.ceil(scrollLeft + clientWidth) < scrollWidth);
                }
            };

            // ตรวจสอบตอนโหลดครั้งแรกและตอน Scroll
            React.useEffect(() => {
                checkScroll();
                const timer = setTimeout(checkScroll, 500);
                const el = scrollRef.current;
                if (el) {
                    el.addEventListener('scroll', checkScroll);
                    window.addEventListener('resize', checkScroll);
                }
                return () => {
                    clearTimeout(timer);
                    if (el) el.removeEventListener('scroll', checkScroll);
                    window.removeEventListener('resize', checkScroll);
                };
            }, []);

            const scroll = (offset) => {
                if (scrollRef.current) {
                    scrollRef.current.scrollBy({ left: offset, behavior: 'smooth' });
                }
            };

            return (
                <div className="relative group/carousel w-full">
                    {/* ปุ่มลูกศรซ้าย: ขยับออกไปด้านซ้าย (-left-12) และซ่อนถ้าเลื่อนไม่ได้ */}
                    <button 
                        onClick={() => scroll(-310)}
                        className={`absolute -left-7 top-1/2 -translate-y-1/2 z-20 w-10 h-10 bg-white/50 backdrop-blur-sm shadow-md rounded-full flex items-center justify-center text-slate-700 hover:text-red-600 hover:scale-110 transition-all duration-300
                            ${canScrollLeft ? 'opacity-0 group-hover/carousel:opacity-100 visible' : 'opacity-0 invisible'}`}
                    >
                        <Icon name="chevron-left" size={28} />
                    </button>

                    {/* Container ของ Carousel */}
                    <div ref={scrollRef} className="flex overflow-x-auto py-2 gap-3 snap-x w-full hide-scroll pl-1 scroll-smooth">
                        {json.contents.map((bubble, i) => {
                            return (
                                <div key={i} className="flex-shrink-0 snap-center rounded-xl overflow-hidden shadow-sm relative group cursor-pointer transition-transform hover:scale-[1.02]" style={{height: '500px', aspectRatio: '1/2'}}>
                                    {bubble.hero && (
                                        <img src={bubble.hero.url} className="w-full h-full object-cover" loading="lazy" />
                                    )}
                                    <div className="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-4">
                                    </div>
                                </div>
                            )
                        })}
                    </div>

                    {/* ปุ่มลูกศรขวา: ขยับออกไปด้านขวา (-right-12) และซ่อนถ้าเลื่อนไม่ได้ */}
                    <button 
                        onClick={() => scroll(310)}
                        className={`absolute -right-7 top-1/2 -translate-y-1/2 z-20 w-10 h-10 bg-white/50 backdrop-blur-sm shadow-md rounded-full flex items-center justify-center text-slate-700 hover:text-red-600 hover:scale-110 transition-all duration-300
                            ${canScrollRight ? 'opacity-0 group-hover/carousel:opacity-100 visible' : 'opacity-0 invisible'}`}
                    >
                        <Icon name="chevron-right" size={28} />
                    </button>
                </div>
            )
        };


        // --- Pages ---
        const Navbar = ({ setPage, currentPage }) => (
            <nav className="fixed top-0 w-full bg-white/80 backdrop-blur-md border-b border-slate-200 z-50 px-6 py-4 flex justify-between items-center">
                <div className="text-[35px] font-bold bg-gradient-to-r from-black to-red-600 bg-clip-text text-transparent cursor-pointer" onClick={() => setPage('home')}>TEST</div>
                <div className="space-x-2 hidden md:block">
                    {['home', 'flex', 'platform'].map(p => (
                        <button key={p} onClick={() => setPage(p)} className={`px-4 py-2 rounded-full text-sm font-medium transition capitalize ${currentPage === p ? 'bg-slate-900 text-white' : 'text-slate-600 hover:bg-slate-100'}`}>{p}</button>
                    ))}
                </div>
            </nav>
        );

        const HomePage = ({ setPage }) => (
            <div className="min-h-screen flex flex-col justify-center items-center pt-20 px-4">
                <div className="text-center max-w-3xl animate-fade-in-up">
                    <span className="inline-block py-1 px-3 rounded-full bg-red-100 text-red-700 text-xs font-bold tracking-wider mb-4">LINE TECHNOLOGY SPECIALIST</span>
                    <h1 className="text-5xl md:text-7xl font-bold text-slate-900 mb-6 leading-tight">สร้างประสบการณ์ <br/><span className="text-transparent bg-clip-text bg-gradient-to-r from-red-500 to-black">Digital ที่ดีกว่า</span></h1>
                    <p className="text-slate-500 text-lg md:text-xl mb-10 max-w-2xl mx-auto">รวบรวมผลงานการออกแบบ Flex Message UX/UI และการวางระบบ Data Platform สำหรับการทำ CRM ที่มีประสิทธิภาพ</p>
                    <div className="grid md:grid-cols-2 gap-6 w-full max-w-4xl mx-auto">
                        <div onClick={() => setPage('flex')} className="group bg-white p-8 rounded-3xl shadow-sm border border-slate-100 hover:shadow-xl hover:-translate-y-1 transition-all cursor-pointer text-left relative overflow-hidden">
                            <div className="absolute top-0 right-0 w-32 h-32 bg-red-50 rounded-full -mr-10 -mt-10 transition group-hover:scale-110"></div>
                            <div className="w-12 h-12 bg-red-100 rounded-2xl flex items-center justify-center text-red-600 mb-4 relative z-10"><Icon name="smartphone" /></div>
                            <h3 className="text-2xl font-bold text-slate-800 mb-2 relative z-10">LINE Flex Messages</h3>
                            <p className="text-slate-500 relative z-10">รวม 6 ผลงานออกแบบ Flex Message ที่ตอบโจทย์ธุรกิจ</p>
                            <div className="mt-4 flex items-center text-red-600 font-semibold text-sm relative z-10 group-hover:translate-x-2 transition">ดูผลงาน <Icon name="arrow-right" size={16} className="ml-1" /></div>
                        </div>
                        <div onClick={() => setPage('platform')} className="group bg-white p-8 rounded-3xl shadow-sm border border-slate-100 hover:shadow-xl hover:-translate-y-1 transition-all cursor-pointer text-left relative overflow-hidden">
                            <div className="absolute top-0 right-0 w-32 h-32 bg-red-50 rounded-full -mr-10 -mt-10 transition group-hover:scale-110"></div>
                            <div className="w-12 h-12 bg-red-100 rounded-2xl flex items-center justify-center text-red-600 mb-4 relative z-10"><Icon name="database" /></div>
                            <h3 className="text-2xl font-bold text-slate-800 mb-2 relative z-10">Broadcast Data Platform</h3>
                            <p className="text-slate-500 relative z-10">ระบบจัดการข้อมูลลูกค้า (CDP) เพื่อการบรอดแคสต์ที่แม่นยำ</p>
                            <div className="mt-4 flex items-center text-red-600 font-semibold text-sm relative z-10 group-hover:translate-x-2 transition">ดูระบบ <Icon name="arrow-right" size={16} className="ml-1" /></div>
                        </div>
                    </div>
                </div>
            </div>
        );

        const PlatformPage = ({ setPage }) => (
            <div className="min-h-screen bg-slate-50 pt-24 pb-12 px-6">
                <div className="max-w-5xl mx-auto">
                    <div className="flex items-center mb-8 cursor-pointer text-slate-500 hover:text-blue-600 transition" onClick={() => setPage('home')}>
                        <Icon name="arrow-left" size={20} className="mr-2" /> กลับหน้าหลัก
                    </div>
                    <div className="flex flex-col md:flex-row justify-between items-start md:items-center mb-10">
                        <div><h2 className="text-4xl font-bold text-slate-900 mb-2">Broadcast Data Platform</h2><p className="text-slate-500">Architecture Design for Personalized Marketing</p></div>
                        <span className="mt-4 md:mt-0 px-4 py-2 bg-blue-100 text-blue-700 font-bold rounded-full text-sm">System Version 2.0</span>
                    </div>
                    <div className="bg-white p-8 md:p-12 rounded-3xl shadow-sm border border-slate-200 mb-10 relative overflow-hidden">
                        <div className="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-blue-400 to-indigo-500"></div>
                        <h3 className="text-xl font-bold text-slate-800 mb-8 flex items-center"><Icon name="activity" className="mr-2 text-blue-500" /> Data Flow Overview</h3>
                        <div className="flex flex-col md:flex-row items-center justify-between gap-4 md:gap-8 relative">
                            <div className="flex flex-col items-center z-10 w-full md:w-1/3"><div className="w-full bg-slate-50 border-2 border-dashed border-slate-300 p-6 rounded-2xl text-center mb-4"><div className="flex justify-center space-x-4 text-slate-400 mb-3"><Icon name="globe" /> <Icon name="smartphone" /> <Icon name="shopping-cart" /></div><h4 className="font-bold text-slate-700">Data Sources</h4><p className="text-xs text-slate-500 mt-1">Web, App, POS, CRM</p></div></div>
                            <div className="hidden md:block text-slate-300"><Icon name="arrow-right" size={32} /></div>
                            <div className="flex flex-col items-center z-10 w-full md:w-1/3"><div className="w-full bg-blue-600 text-white p-6 rounded-2xl shadow-lg shadow-blue-200 text-center relative"><div className="absolute -top-3 -right-3 bg-yellow-400 text-yellow-900 text-xs font-bold px-2 py-1 rounded-md shadow-sm">Core Engine</div><Icon name="cpu" size={32} className="mx-auto mb-3 text-blue-200" /><h4 className="font-bold text-lg">CDP Engine</h4><p className="text-xs text-blue-200 mt-1">Segmentation & Personalization</p></div></div>
                            <div className="hidden md:block text-slate-300"><Icon name="arrow-right" size={32} /></div>
                            <div className="flex flex-col items-center z-10 w-full md:w-1/3"><div className="w-full bg-green-50 border border-green-200 p-6 rounded-2xl text-center"><Icon name="send" size={32} className="mx-auto mb-3 text-green-600" /><h4 className="font-bold text-green-800">LINE Broadcast</h4><p className="text-xs text-green-600 mt-1">Targeted Messages</p></div></div>
                        </div>
                    </div>
                </div>
            </div>
        );

        const FlexPage = ({ setPage }) => {
            const [selectedJson, setSelectedJson] = useState(null);

            // --- REAL JSON DATA SETS ---
            const lotteryJson = {
                "type": "bubble", "size": "giga",
                "header": { "type": "box", "layout": "vertical", "contents": [{ "type": "image", "size": "full", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_background/Headband_3_black.png", "aspectMode": "fit", "aspectRatio": "5:1" }] },
                "hero": { "type": "video", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_video/250801_Prize_chudyai.mp4", "previewUrl": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_vdo_cover/250801_Prize_chudyai_Cover.png", "aspectRatio": "16:9" },
                "body": { "type": "box", "layout": "vertical", "contents": [{ "type": "box", "layout": "vertical", "contents": [
                    { "type": "box", "layout": "horizontal", "contents": [{ "type": "box", "layout": "vertical", "contents": [{ "type": "image", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_button/purchase_lottery_flex1.png" }] }, { "type": "box", "layout": "vertical", "contents": [{ "type": "text", "text": "ซื้อลอตเตอรี่" }, { "type": "text", "text": "กี่ใบก็มีลุ้น! โอกาสมีอยู่ทุกใบ" }] }] },
                    { "type": "separator" },
                    { "type": "box", "layout": "horizontal", "contents": [{ "type": "box", "layout": "vertical", "contents": [{ "type": "image", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_button/purchase_jidrid_flex1.png" }] }, { "type": "box", "layout": "vertical", "contents": [{ "type": "text", "text": "จิ๊ดริดหยิบโชค" }, { "type": "text", "text": "ไม่มีเลขในใจ ใช้จิ๊ดริดหยิบให้เลย" }] }] },
                    { "type": "separator" },
                    { "type": "box", "layout": "horizontal", "contents": [{ "type": "box", "layout": "vertical", "contents": [{ "type": "image", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_button/purchase_goldentime_flex1.png" }] }, { "type": "box", "layout": "vertical", "contents": [{ "type": "text", "text": "นาทีทอง" }, { "type": "text", "text": "นาทีนี้ใครไว ใครได้" }] }] }
                ] }] },
                "footer": { "type": "box", "layout": "vertical", "contents": [], "backgroundColor": "#ff0200ff" }
            };

            const lotteryJson2 = {
  "type": "carousel",
  "contents": [
    {
      "type": "bubble",
      "hero": {
        "type": "image",
        "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/ltp_flex2_cards/count_01.jpg",
        "size": "full",
        "aspectMode": "cover",
        "aspectRatio": "3:3.2",
        "action": {
          "type": "uri",
          "label": "ซื้อลอตเตอรี่ที่นี่",
          "uri": "https://lin.ee/oV69qGV"
        }
      }
    },
    {
      "type": "bubble",
      "hero": {
        "type": "image",
        "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/ltp_flex2_cards/count_02.jpg",
        "size": "full",
        "aspectMode": "cover",
        "aspectRatio": "3:3.2",
        "action": {
          "type": "uri",
          "label": "ซื้อลอตเตอรี่ที่นี่",
          "uri": "https://lin.ee/IcgKyUm"
        }
      }
    },
    {
      "type": "bubble",
      "hero": {
        "type": "image",
        "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/ltp_flex2_cards/count_03.jpg",
        "aspectRatio": "3:3.2",
        "aspectMode": "cover",
        "size": "full",
        "action": {
          "type": "uri",
          "label": "ซื้อลอตเตอรี่ที่นี่",
          "uri": "https://lin.ee/pwTuVaa"
        }
      }
    },
    {
      "type": "bubble",
      "hero": {
        "type": "image",
        "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/ltp_flex2_cards/count_05.jpg",
        "aspectRatio": "3:3.2",
        "aspectMode": "cover",
        "size": "full",
        "action": {
          "type": "uri",
          "label": "ซื้อลอตเตอรี่ที่นี่",
          "uri": "https://lin.ee/Nxyg8FL"
        }
      }
    },
    {
      "type": "bubble",
      "hero": {
        "type": "image",
        "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/ltp_flex2_cards/count_10.jpg",
        "aspectRatio": "3:3.2",
        "aspectMode": "cover",
        "size": "full",
        "action": {
          "type": "uri",
          "label": "ซื้อลอตเตอรี่ที่นี่",
          "uri": "https://lin.ee/SeDO4Ud"
        }
      }
    }
  ]
};
            const lotteryJson3 = {
            "type": "carousel",
            "contents": [
                {
                "type": "bubble",
                "size": "mega",
                "header": {
                    "type": "box",
                    "layout": "vertical",
                    "contents": [
                    {
                        "type": "image",
                        "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_logolotteryplus/logo_lotteryplus_horizontal_red.png",
                        "size": "200px",
                        "aspectRatio": "5:1",
                        "aspectMode": "fit"
                    }
                    ],
                    "spacing": "0px",
                    "paddingAll": "0px"
                },
                "body": {
                    "type": "box",
                    "layout": "vertical",
                    "spacing": "none",
                    "contents": [
                    {
                        "type": "image",
                        "position": "absolute",
                        "size": "380px",
                        "gravity": "center",
                        "align": "center",
                        "margin": "none",
                        "offsetTop": "-120px",
                        "offsetStart": "0px",
                        "aspectRatio": "1:2",
                        "offsetEnd": "0px",
                        "aspectMode": "fit",
                        "offsetBottom": "-120px",
                        "action": {
                        "type": "uri",
                        "label": "รวมเลขเด็ดเลขดัง",
                        "uri": "https://lin.ee/18vidat",
                        "altUri": {
                            "desktop": "https://lin.ee/18vidat"
                        }
                        },
                        "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_background/lakdung_BC_flex3.png"
                    },
                    {
                        "type": "box",
                        "layout": "vertical",
                        "contents": [],
                        "position": "absolute",
                        "offsetTop": "0%",
                        "offsetBottom": "0%",
                        "offsetStart": "0%",
                        "offsetEnd": "0%",
                        "action": {
                        "type": "uri",
                        "label": "รวมเลขเด็ดเลขดัง",
                        "uri": "https://lin.ee/18vidat",
                        "altUri": {
                            "desktop": "https://lin.ee/18vidat"
                        }
                        }
                    },
                    {
                        "type": "image",
                        "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_coolnumber/ruamlakdetlakdang.png",
                        "position": "relative",
                        "aspectMode": "fit",
                        "offsetTop": "-110px",
                        "offsetStart": "0px",
                        "margin": "lg",
                        "size": "full",
                        "action": {
                        "type": "uri",
                        "label": "รวมเลขเด็ดเลขดัง",
                        "uri": "https://lin.ee/18vidat",
                        "altUri": {
                            "desktop": "https://lin.ee/18vidat"
                        }
                        }
                    },
                    {
                        "type": "text",
                        "size": "lg",
                        "align": "center",
                        "color": "#ffffff",
                        "contents": [
                        {
                            "type": "span",
                            "text": "ประจำงวดวันที่ 16 พฤศจิกายน 2568",
                            "weight": "bold",
                            "style": "normal",
                            "decoration": "none",
                            "size": "xs"
                        }
                        ],
                        "weight": "bold",
                        "decoration": "none",
                        "position": "absolute",
                        "gravity": "center",
                        "scaling": true,
                        "wrap": true,
                        "adjustMode": "shrink-to-fit",
                        "maxLines": 1,
                        "offsetStart": "53px",
                        "offsetTop": "80px",
                        "action": {
                        "type": "uri",
                        "label": "รวมเลขเด็ดเลขดัง",
                        "uri": "https://lin.ee/18vidat",
                        "altUri": {
                            "desktop": "https://lin.ee/18vidat"
                        }
                        }
                    },
                    {
                        "type": "image",
                        "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_jidrid/Jidrid_122.png",
                        "size": "3xl",
                        "action": {
                        "type": "uri",
                        "label": "รวมเลขเด็ดเลขดัง",
                        "uri": "https://lin.ee/18vidat",
                        "altUri": {
                            "desktop": "https://lin.ee/18vidat"
                        }
                        },
                        "align": "center",
                        "gravity": "center",
                        "position": "absolute",
                        "offsetStart": "65px",
                        "offsetTop": "130px"
                    }
                    ],
                    "background": {
                    "type": "linearGradient",
                    "angle": "0deg",
                    "startColor": "#000000",
                    "endColor": "#000000"
                    },
                    "flex": 1,
                    "action": {
                    "type": "uri",
                    "label": "รวมเลขเด็ดเลขดัง",
                    "uri": "https://lin.ee/18vidat",
                    "altUri": {
                        "desktop": "https://lin.ee/18vidat"
                    }
                    }
                }
                },
                {
                "type": "bubble",
                "size": "mega",
                "body": {
                    "type": "box",
                    "layout": "vertical",
                    "contents": [
                    {
                        "type": "box",
                        "layout": "vertical",
                        "backgroundColor": "#ffffff",
                        "cornerRadius": "xl",
                        "contents": [
                        {
                            "type": "box",
                            "layout": "vertical",
                            "contents": [],
                            "height": "10px"
                        },
                        {
                            "type": "box",
                            "layout": "horizontal",
                            "cornerRadius": "md",
                            "contents": [
                            {
                                "type": "image",
                                "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_logo_program/lekpheehian.png",
                                "aspectMode": "cover",
                                "size": "full",
                                "gravity": "center",
                                "align": "center",
                                "aspectRatio": "3.5:1"
                            }
                            ],
                            "background": {
                            "type": "linearGradient",
                            "angle": "170deg",
                            "startColor": "#00000020",
                            "endColor": "#000000",
                            "centerColor": "#000000"
                            },
                            "borderColor": "#FFFFFF",
                            "borderWidth": "light"
                        },
                        {
                            "type": "box",
                            "layout": "vertical",
                            "contents": [
                            {
                                "type": "filler"
                            },
                            {
                                "type": "box",
                                "layout": "horizontal",
                                "justifyContent": "center",
                                "contents": [
                                {
                                    "type": "filler"
                                },
                                {
                                    "type": "text",
                                    "text": "283",
                                    "weight": "bold",
                                    "size": "lg",
                                    "align": "center"
                                },
                                {
                                    "type": "text",
                                    "text": "20",
                                    "weight": "bold",
                                    "size": "lg",
                                    "align": "center"
                                },
                                {
                                    "type": "filler"
                                }
                                ],
                                "flex": 1,
                                "alignItems": "center",
                                "height": "50px"
                            }
                            ],
                            "height": "60px",
                            "justifyContent": "center"
                        },
                        {
                            "type": "text",
                            "align": "center",
                            "contents": [
                            {
                                "type": "span",
                                "text": "หลอนพารวย ลูกเต๋าและปิงปองให้โชค",
                                "size": "xs",
                                "style": "normal"
                            }
                            ],
                            "gravity": "center"
                        },
                        {
                            "type": "box",
                            "layout": "vertical",
                            "contents": [],
                            "height": "20px"
                        }
                        ],
                        "spacing": "none",
                        "action": {
                        "type": "uri",
                        "label": "รวมเลขเด็ดเลขดัง",
                        "uri": "https://lin.ee/oaaZjx2",
                        "altUri": {
                            "desktop": "https://lin.ee/oaaZjx2"
                        }
                        },
                        "height": "190px",
                        "paddingAll": "0px"
                    },
                    {
                        "type": "separator",
                        "color": "#333333"
                    },
                    {
                        "type": "box",
                        "layout": "vertical",
                        "backgroundColor": "#ffffff",
                        "cornerRadius": "xl",
                        "contents": [
                        {
                            "type": "box",
                            "layout": "vertical",
                            "contents": [],
                            "height": "20px"
                        },
                        {
                            "type": "box",
                            "layout": "horizontal",
                            "cornerRadius": "md",
                            "contents": [
                            {
                                "type": "image",
                                "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_logo_program/patithinjeen.png",
                                "aspectMode": "cover",
                                "size": "full",
                                "gravity": "center",
                                "align": "center",
                                "aspectRatio": "3.5:1"
                            }
                            ],
                            "borderColor": "#FFFFFF",
                            "borderWidth": "light"
                        },
                        {
                            "type": "box",
                            "layout": "vertical",
                            "contents": [
                            {
                                "type": "filler"
                            },
                            {
                                "type": "box",
                                "layout": "horizontal",
                                "justifyContent": "center",
                                "contents": [
                                {
                                    "type": "filler"
                                },
                                {
                                    "type": "text",
                                    "text": "2",
                                    "weight": "bold",
                                    "size": "lg",
                                    "align": "center"
                                },
                                {
                                    "type": "text",
                                    "text": "6",
                                    "weight": "bold",
                                    "size": "lg",
                                    "align": "center"
                                },
                                {
                                    "type": "text",
                                    "text": "3",
                                    "weight": "bold",
                                    "size": "lg",
                                    "align": "center"
                                },
                                {
                                    "type": "text",
                                    "text": "5",
                                    "weight": "bold",
                                    "size": "lg",
                                    "align": "center"
                                },
                                {
                                    "type": "filler"
                                }
                                ],
                                "flex": 1,
                                "alignItems": "center",
                                "height": "50px"
                            }
                            ],
                            "height": "60px",
                            "justifyContent": "center"
                        },
                        {
                            "type": "text",
                            "align": "center",
                            "contents": [
                            {
                                "type": "span",
                                "text": "งวดนี้ไม่ธรรมดา ต้องมีติดตู้เซฟไว้",
                                "size": "xs",
                                "weight": "regular",
                                "style": "normal"
                            }
                            ],
                            "gravity": "center"
                        },
                        {
                            "type": "box",
                            "layout": "vertical",
                            "contents": [],
                            "height": "20px"
                        }
                        ],
                        "spacing": "none",
                        "action": {
                        "type": "uri",
                        "label": "รวมเลขเด็ดเลขดัง",
                        "uri": "https://lin.ee/oaaZjx2",
                        "altUri": {
                            "desktop": "https://lin.ee/oaaZjx2"
                        }
                        },
                        "height": "210px",
                        "paddingAll": "0px"
                    }
                    ],
                    "cornerRadius": "xl",
                    "height": "400px",
                    "paddingAll": "10px"
                },
                "footer": {
                    "type": "box",
                    "layout": "vertical",
                    "contents": [
                    {
                        "type": "text",
                        "text": "**เป็นความเชื่อส่วนบุคคล",
                        "size": "xxs",
                        "adjustMode": "shrink-to-fit",
                        "align": "end"
                    }
                    ]
                }
                },
                {
                "type": "bubble",
                "size": "mega",
                "body": {
                    "type": "box",
                    "layout": "vertical",
                    "contents": [
                    {
                        "type": "box",
                        "layout": "vertical",
                        "backgroundColor": "#ffffff",
                        "cornerRadius": "xl",
                        "contents": [
                        {
                            "type": "box",
                            "layout": "vertical",
                            "contents": [],
                            "height": "10px"
                        },
                        {
                            "type": "box",
                            "layout": "horizontal",
                            "cornerRadius": "md",
                            "contents": [
                            {
                                "type": "image",
                                "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_logo_program/maetukta.png",
                                "aspectMode": "cover",
                                "size": "full",
                                "gravity": "center",
                                "align": "center",
                                "aspectRatio": "3.5:1"
                            }
                            ],
                            "borderColor": "#FFFFFF",
                            "borderWidth": "light"
                        },
                        {
                            "type": "box",
                            "layout": "vertical",
                            "contents": [
                            {
                                "type": "filler"
                            },
                            {
                                "type": "box",
                                "layout": "horizontal",
                                "justifyContent": "center",
                                "contents": [
                                {
                                    "type": "filler"
                                },
                                {
                                    "type": "text",
                                    "text": "2",
                                    "weight": "bold",
                                    "size": "lg",
                                    "align": "center"
                                },
                                {
                                    "type": "text",
                                    "text": "9",
                                    "weight": "bold",
                                    "size": "lg",
                                    "align": "center"
                                },
                                {
                                    "type": "text",
                                    "text": "4",
                                    "weight": "bold",
                                    "size": "lg",
                                    "align": "center"
                                },
                                {
                                    "type": "text",
                                    "text": "7",
                                    "weight": "bold",
                                    "size": "lg",
                                    "align": "center"
                                },
                                {
                                    "type": "text",
                                    "text": "0",
                                    "weight": "bold",
                                    "size": "lg",
                                    "align": "center"
                                },
                                {
                                    "type": "filler"
                                }
                                ],
                                "flex": 1,
                                "alignItems": "center",
                                "height": "50px"
                            }
                            ],
                            "height": "60px",
                            "justifyContent": "center"
                        },
                        {
                            "type": "text",
                            "align": "center",
                            "contents": [
                            {
                                "type": "span",
                                "text": "พาเข้ามาแล้วหลายงวด",
                                "size": "xs",
                                "style": "normal"
                            }
                            ],
                            "gravity": "center"
                        },
                        {
                            "type": "box",
                            "layout": "vertical",
                            "contents": [],
                            "height": "20px"
                        }
                        ],
                        "spacing": "none",
                        "action": {
                        "type": "uri",
                        "label": "รวมเลขเด็ดเลขดัง",
                        "uri": "https://lin.ee/oaaZjx2",
                        "altUri": {
                            "desktop": "https://lin.ee/oaaZjx2"
                        }
                        },
                        "flex": 1,
                        "paddingAll": "0px",
                        "height": "190px"
                    },
                    {
                        "type": "separator",
                        "color": "#333333"
                    },
                    {
                        "type": "box",
                        "layout": "vertical",
                        "backgroundColor": "#ffffff",
                        "cornerRadius": "xl",
                        "contents": [
                        {
                            "type": "box",
                            "layout": "vertical",
                            "contents": [],
                            "height": "20px"
                        },
                        {
                            "type": "box",
                            "layout": "horizontal",
                            "cornerRadius": "md",
                            "contents": [
                            {
                                "type": "image",
                                "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_logo_program/lekai.png",
                                "aspectMode": "cover",
                                "size": "full",
                                "gravity": "center",
                                "align": "center",
                                "aspectRatio": "3.5:1"
                            }
                            ],
                            "borderColor": "#FFFFFF",
                            "borderWidth": "light"
                        },
                        {
                            "type": "box",
                            "layout": "vertical",
                            "contents": [
                            {
                                "type": "filler"
                            },
                            {
                                "type": "box",
                                "layout": "horizontal",
                                "justifyContent": "center",
                                "contents": [
                                {
                                    "type": "filler"
                                },
                                {
                                    "type": "text",
                                    "text": "15",
                                    "weight": "bold",
                                    "size": "lg",
                                    "align": "center"
                                },
                                {
                                    "type": "text",
                                    "text": "63",
                                    "weight": "bold",
                                    "size": "lg",
                                    "align": "center"
                                },
                                {
                                    "type": "text",
                                    "text": "89",
                                    "weight": "bold",
                                    "size": "lg",
                                    "align": "center"
                                },
                                {
                                    "type": "text",
                                    "text": "07",
                                    "weight": "bold",
                                    "size": "lg",
                                    "align": "center"
                                },
                                {
                                    "type": "text",
                                    "text": "42",
                                    "weight": "bold",
                                    "size": "lg",
                                    "align": "center"
                                },
                                {
                                    "type": "filler"
                                }
                                ],
                                "flex": 1,
                                "alignItems": "center",
                                "height": "25px"
                            },
                            {
                                "type": "box",
                                "layout": "horizontal",
                                "justifyContent": "center",
                                "contents": [
                                {
                                    "type": "filler"
                                },
                                {
                                    "type": "text",
                                    "text": "30",
                                    "weight": "bold",
                                    "size": "lg",
                                    "align": "center"
                                },
                                {
                                    "type": "text",
                                    "text": "56",
                                    "weight": "bold",
                                    "size": "lg",
                                    "align": "center"
                                },
                                {
                                    "type": "text",
                                    "text": "92",
                                    "weight": "bold",
                                    "size": "lg",
                                    "align": "center"
                                },
                                {
                                    "type": "text",
                                    "text": "24",
                                    "weight": "bold",
                                    "size": "lg",
                                    "align": "center"
                                },
                                {
                                    "type": "text",
                                    "text": "78",
                                    "weight": "bold",
                                    "size": "lg",
                                    "align": "center"
                                },
                                {
                                    "type": "filler"
                                }
                                ],
                                "flex": 1,
                                "alignItems": "center",
                                "height": "25px"
                            }
                            ],
                            "height": "60px",
                            "justifyContent": "center"
                        },
                        {
                            "type": "text",
                            "align": "center",
                            "contents": [
                            {
                                "type": "span",
                                "text": "สายตัวเลข ไม่ควรพลาด",
                                "size": "xs",
                                "style": "normal"
                            }
                            ],
                            "gravity": "center"
                        },
                        {
                            "type": "box",
                            "layout": "vertical",
                            "contents": [],
                            "height": "20px"
                        }
                        ],
                        "spacing": "none",
                        "action": {
                        "type": "uri",
                        "label": "รวมเลขเด็ดเลขดัง",
                        "uri": "https://lin.ee/oaaZjx2",
                        "altUri": {
                            "desktop": "https://lin.ee/oaaZjx2"
                        }
                        },
                        "flex": 1,
                        "paddingAll": "0px",
                        "height": "210px"
                    }
                    ],
                    "cornerRadius": "xl",
                    "height": "400px",
                    "paddingAll": "10px"
                },
                "footer": {
                    "type": "box",
                    "layout": "vertical",
                    "contents": [
                    {
                        "type": "text",
                        "text": "**เป็นความเชื่อส่วนบุคคล",
                        "size": "xxs",
                        "adjustMode": "shrink-to-fit",
                        "align": "end"
                    }
                    ]
                }
                }
            ]
            };

            const lotteryJson4 = {
                "type": "bubble",
                "size": "mega",
                "header": {
                    "type": "box",
                    "layout": "vertical",
                    "contents": [{
                        "type": "image",
                        "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_logolotteryplus/logo_lotteryplus_horizontal_white.png",
                        "align": "start",
                        "aspectMode": "fit",
                        "gravity": "center",
                        "size": "5xl",
                        "animated": true,
                        "aspectRatio": "6:1"
                    }],
                    "paddingAll": "20px",
                    "spacing": "none",
                    "height": "65px",
                    "paddingTop": "22px",
                    "background": {
                        "type": "linearGradient",
                        "angle": "330deg",
                        "startColor": "#b31217",
                        "endColor": "#ff0000",
                        "centerColor": "#D31027"
                    },
                    "justifyContent": "center"
                },
                "hero": {
                    "type": "video",
                    "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_video/250716_Sell_Night.mp4",
                    "previewUrl": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_video/250716_Sell_Night.mp4",
                    "altContent": {
                        "type": "image",
                        "size": "full",
                        "aspectRatio": "16:9",
                        "aspectMode": "cover",
                        "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_vdo_cover/250716_Sell_Night_Cover.png"
                    },
                    "aspectRatio": "16:9"
                },
                "body": {
                    "type": "box",
                    "layout": "vertical",
                    "contents": [
                        {
                            "type": "text",
                            "text": "วิธีสมัครสมาชิก",
                            "color": "#b7b7b7",
                            "size": "xs",
                            "style": "italic",
                            "decoration": "underline",
                            "margin": "md"
                        },
                        {
                            "type": "box",
                            "layout": "horizontal",
                            "contents": [
                                {
                                    "type": "text",
                                    "text": "Step 1",
                                    "size": "xs",
                                    "gravity": "center",
                                    "color": "#EF454D",
                                    "weight": "bold",
                                    "flex": 1,
                                    "align": "end"
                                },
                                {
                                    "type": "box",
                                    "layout": "vertical",
                                    "contents": [
                                        {
                                            "type": "box",
                                            "layout": "vertical",
                                            "contents": [],
                                            "cornerRadius": "30px",
                                            "height": "12px",
                                            "width": "12px",
                                            "borderColor": "#B7B7B7",
                                            "borderWidth": "2px"
                                        }
                                    ],
                                    "width": "24px",
                                    "alignItems": "center",
                                    "justifyContent": "center"
                                },
                                {
                                    "type": "text",
                                    "text": "เลือกเมนู 'สมาชิก'",
                                    "gravity": "center",
                                    "flex": 4,
                                    "size": "sm",
                                    "weight": "bold",
                                    "margin": "sm"
                                }
                            ],
                            "spacing": "sm",
                            "margin": "xl",
                            "alignItems": "center"
                        },
                        {
                            "type": "box",
                            "layout": "horizontal",
                            "contents": [
                                {
                                    "type": "filler",
                                    "flex": 1
                                },
                                {
                                    "type": "box",
                                    "layout": "vertical",
                                    "contents": [
                                        {
                                            "type": "box",
                                            "layout": "vertical",
                                            "contents": [],
                                            "width": "2px",
                                            "backgroundColor": "#B7B7B7",
                                            "height": "40px"
                                        }
                                    ],
                                    "width": "24px",
                                    "alignItems": "center"
                                },
                                {
                                    "type": "box",
                                    "layout": "vertical",
                                    "contents": [
                                        {
                                            "type": "text",
                                            "text": "กด 'ตกลง' ระะบบจะไปที่ LINE",
                                            "color": "#8c8c8c",
                                            "size": "xs",
                                            "gravity": "center",
                                            "wrap": true
                                        },
                                        {
                                            "type": "text",
                                            "text": "กด 'อนุญาต'",
                                            "color": "#8c8c8c",
                                            "size": "xs",
                                            "gravity": "center",
                                            "wrap": true
                                        }
                                    ],
                                    "flex": 4,
                                    "justifyContent": "center",
                                    "margin": "sm"
                                }
                            ],
                            "spacing": "sm"
                        },
                        {
                            "type": "box",
                            "layout": "horizontal",
                            "contents": [
                                {
                                    "type": "text",
                                    "text": "Step 2",
                                    "gravity": "center",
                                    "size": "xs",
                                    "weight": "bold",
                                    "color": "#EF454D",
                                    "flex": 1,
                                    "align": "end"
                                },
                                {
                                    "type": "box",
                                    "layout": "vertical",
                                    "contents": [
                                        {
                                            "type": "box",
                                            "layout": "vertical",
                                            "contents": [],
                                            "cornerRadius": "30px",
                                            "width": "12px",
                                            "height": "12px",
                                            "borderColor": "#EF454D",
                                            "borderWidth": "2px"
                                        }
                                    ],
                                    "width": "24px",
                                    "alignItems": "center",
                                    "justifyContent": "center"
                                },
                                {
                                    "type": "text",
                                    "text": "เพิ่มเพื่อน LINE Official",
                                    "gravity": "center",
                                    "flex": 4,
                                    "size": "sm",
                                    "weight": "bold",
                                    "margin": "sm"
                                }
                            ],
                            "spacing": "sm",
                            "alignItems": "center"
                        },
                        {
                            "type": "box",
                            "layout": "horizontal",
                            "contents": [
                                {
                                    "type": "filler",
                                    "flex": 1
                                },
                                {
                                    "type": "box",
                                    "layout": "vertical",
                                    "contents": [
                                        {
                                            "type": "box",
                                            "layout": "vertical",
                                            "contents": [],
                                            "width": "2px",
                                            "backgroundColor": "#EF454D",
                                            "background": {
                                                "type": "linearGradient",
                                                "angle": "0deg",
                                                "startColor": "#b31217",
                                                "endColor": "#ff0000",
                                                "centerColor": "#D31027"
                                            },
                                            "height": "30px"
                                        }
                                    ],
                                    "width": "24px",
                                    "alignItems": "center"
                                },
                                {
                                    "type": "text",
                                    "text": "กรอกข้อมูลส่วนตัวให้ครบถ้วน",
                                    "gravity": "center",
                                    "flex": 4,
                                    "size": "xs",
                                    "color": "#8c8c8c",
                                    "margin": "sm"
                                }
                            ],
                            "spacing": "sm",
                            "alignItems": "center"
                        },
                        {
                            "type": "box",
                            "layout": "horizontal",
                            "contents": [
                                {
                                    "type": "text",
                                    "text": "Step 3",
                                    "gravity": "center",
                                    "size": "xs",
                                    "color": "#EF454D",
                                    "weight": "bold",
                                    "flex": 1,
                                    "align": "end"
                                },
                                {
                                    "type": "box",
                                    "layout": "vertical",
                                    "contents": [
                                        {
                                            "type": "box",
                                            "layout": "vertical",
                                            "contents": [],
                                            "cornerRadius": "30px",
                                            "width": "12px",
                                            "height": "12px",
                                            "borderColor": "#EF454D",
                                            "borderWidth": "2px",
                                            "backgroundColor": "#EF454D"
                                        }
                                    ],
                                    "width": "24px",
                                    "alignItems": "center",
                                    "justifyContent": "center"
                                },
                                {
                                    "type": "text",
                                    "text": "กด 'ลงทะเบียน'",
                                    "gravity": "center",
                                    "flex": 4,
                                    "size": "sm",
                                    "weight": "bold",
                                    "margin": "sm"
                                }
                            ],
                            "spacing": "sm",
                            "alignItems": "center"
                        }
                    ],
                    "margin": "lg"
                },
                "footer": {
                    "type": "box",
                    "layout": "vertical",
                    "contents": [
                        {
                            "type": "filler"
                        },
                        {
                            "type": "box",
                            "layout": "vertical",
                            "contents": [{
                                "type": "text",
                                "text": "สมัครเลย",
                                "weight": "bold",
                                "color": "#ffffff",
                                "offsetBottom": "1px"
                            }],
                            "backgroundColor": "#ff0000cc",
                            "cornerRadius": "10px",
                            "justifyContent": "center",
                            "alignItems": "center",
                            "width": "250px",
                            "height": "45px",
                            "background": {
                                "type": "linearGradient",
                                "angle": "330deg",
                                "startColor": "#b31217cc",
                                "endColor": "#ff0000cc",
                                "centerColor": "#D31027cc"
                            },
                            "action": {
                                "type": "uri",
                                "label": "action",
                                "uri": "https://liff.line.me/1660835514-6pJ95rZ1"
                            }
                        },
                        {
                            "type": "filler"
                        }
                    ],
                    "alignItems": "center"
                }
            };

            const lotteryJson5 = {
                "type": "bubble", "size": "mega",
                "hero": {
                    "type": "video", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_video/250701_Sell_lekkhaotookchuamong.mp4", "altContent": { "type": "image", "size": "full", "aspectRatio": "16:9", "aspectMode": "cover", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_vdo_cover/250701_Sell_lekkhaotookchuamong_Cover.png" },
                    "action": { "type": "uri", "label": "กดซื้อ รางวัลที่ 1", "uri": "https://liff.line.me/1660835514-xVBgVpKd" }, "aspectRatio": "16:9", "previewUrl": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_video/250701_Sell_lekkhaotookchuamong.mp4"
                },
                "body": {
                    "type": "box", "layout": "vertical", "contents": [
                    {
                        "type": "box", "layout": "vertical", "contents": [
                        { "type": "box", "layout": "vertical", "contents": [], "backgroundColor": "#c0c0c080", "width": "200px", "height": "3px", "justifyContent": "center", "alignItems": "center", "offsetTop": "34px", "background": { "type": "linearGradient", "angle": "90deg", "startColor": "#EAEAEA", "endColor": "#ff0000", "centerColor": "#c0c0c0" } },
                        {
                            "type": "box", "layout": "horizontal", "contents": [
                            { "type": "filler", "flex": 1 },
                            { "type": "box", "layout": "vertical", "contents": [ { "type": "box", "layout": "vertical", "contents": [ { "type": "image", "url": "https://lotterypluscdn.blob.core.windows.net/lotteryplus-icon/190.png", "size": "20px", "aspectRatio": "1:1", "aspectMode": "cover", "align": "center", "gravity": "center" } ], "backgroundColor": "#ffffff", "width": "40px", "height": "40px", "cornerRadius": "100px", "alignItems": "center", "justifyContent": "center", "borderWidth": "1.5px", "borderColor": "#ffffff" }, { "type": "text", "text": "Step 1", "size": "10px", "contents": [ { "type": "span", "text": "กดเลือกเลข ใส่ตะกร้า" } ], "wrap": true, "align": "center", "offsetTop": "15px" } ], "alignItems": "center", "cornerRadius": "100px", "flex": 2, "width": "60px", "height": "100px" },
                            { "type": "filler" },
                            { "type": "box", "layout": "vertical", "contents": [ { "type": "box", "layout": "vertical", "contents": [ { "type": "image", "url": "https://lotterypluscdn.blob.core.windows.net/lotteryplus-icon/190.png", "size": "20px", "aspectRatio": "1:1", "aspectMode": "cover", "align": "center", "gravity": "center" } ], "backgroundColor": "#ffffff", "width": "40px", "height": "40px", "cornerRadius": "100px", "alignItems": "center", "justifyContent": "center", "borderColor": "#ADA996", "borderWidth": "1.5px" }, { "type": "text", "text": "Step 1", "size": "10px", "contents": [ { "type": "span", "text": "เลือกช่องทาง การชำระเงิน" } ], "wrap": true, "align": "center", "offsetTop": "15px" } ], "alignItems": "center", "cornerRadius": "100px", "flex": 2, "width": "60px", "height": "100px" },
                            { "type": "filler" },
                            { "type": "box", "layout": "vertical", "contents": [ { "type": "box", "layout": "vertical", "contents": [ { "type": "image", "url": "https://lotterypluscdn.blob.core.windows.net/lotteryplus-icon/190.png", "size": "20px", "aspectRatio": "1:1", "aspectMode": "cover", "align": "center", "gravity": "center" } ], "backgroundColor": "#ff0000", "width": "38px", "height": "38px", "cornerRadius": "100px", "alignItems": "center", "justifyContent": "center" }, { "type": "text", "text": "Step 1", "size": "10px", "contents": [ { "type": "span", "text": "คำสั่งซื้อ สำเร็จ" } ], "wrap": true, "align": "center", "offsetTop": "15px" } ], "alignItems": "center", "cornerRadius": "100px", "flex": 2, "width": "60px", "height": "100px", "justifyContent": "center", "alignItems": "center", "offsetTop": "10px", "borderWidth": "1.5px", "borderColor": "#ff0000" },
                            { "type": "filler" }
                            ]
                        }
                        ], "alignItems": "center"
                    }
                    ], "backgroundColor": "#f9f5f2"
                }
            };

            const lotteryJson6 = {
                "type": "carousel",
                "contents": [
                    { "type": "bubble", "size": "deca", "hero": { "type": "image", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_prize_person/jidrid/Jidrid-001.png", "aspectRatio": "1:2", "size": "300px" }, "action": { "type": "uri", "label": "action", "uri": "https://lin.ee/lSM8jEB" }, "styles": { "footer": { "separator": false } } },
                    { "type": "bubble", "size": "deca", "hero": { "type": "image", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_prize_person/jidrid/Jidrid-002.png", "aspectRatio": "1:2", "size": "300px" }, "action": { "type": "uri", "label": "action", "uri": "https://lin.ee/lSM8jEB" }, "styles": { "footer": { "separator": false } } },
                    { "type": "bubble", "size": "deca", "hero": { "type": "image", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_prize_person/jidrid/Jidrid-003.png", "aspectRatio": "1:2", "size": "300px" }, "action": { "type": "uri", "label": "action", "uri": "https://lin.ee/lSM8jEB" }, "styles": { "footer": { "separator": false } } },
                    { "type": "bubble", "size": "deca", "hero": { "type": "image", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_prize_person/jidrid/Jidrid-004.png", "aspectRatio": "1:2", "size": "300px" }, "action": { "type": "uri", "label": "action", "uri": "https://lin.ee/lSM8jEB" }, "styles": { "footer": { "separator": false } } },
                    { "type": "bubble", "size": "deca", "hero": { "type": "image", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_prize_person/jidrid/Jidrid-005.png", "aspectRatio": "1:2", "size": "300px" }, "action": { "type": "uri", "label": "action", "uri": "https://lin.ee/lSM8jEB" }, "styles": { "footer": { "separator": false } } }
                ]
            };

            const flexItems = [
                { id: 1, title: "Lottery Plus Campaign", type: "Video", color: "bg-red-500", icon: "ticket", desc: "การเลือกใช้วิดีโอรีวิวสินค้าและปุ่มที่นำไปสู่สินค้าต่างๆ เพื่อเพิ่มความน่าสนใจ และช่วยกระตุ้นการอยากซื้อให้กับลูกค้ามากขึ้น", jsonCode: lotteryJson, renderer: 'type1' },
                { id: 4, title: "Register Steps", type: "Vertical Timeline", color: "bg-red-500", icon: "list", desc: "เป็นช่องทางที่รวบรวมสินค้าแนะนำที่มีความน่าเชื่อถือ เพื่อให้ลูกค้าได้เข้าถึงสินค้าที่ต้องการได้อย่างรวดเร็ว โดยจะมีการอัปเดตสินค้าอย่างสม่ำเสมอ เพื่อไม่ให้พลาดโอกาสสำคัญ", jsonCode: lotteryJson4, renderer: 'type4' },
                { id: 6, title: "Jidrid Collection", type: "Portrait Carousel", color: "bg-blue-500", icon: "image", desc: "Carousel แบบแนวตั้ง (1:2 Aspect Ratio) สำหรับโชว์คอลเลคชั่นรูปภาพเต็มจอ", jsonCode: lotteryJson6, renderer: 'type6' },
                { id: 2, title: "Lottery Plus Carousel", type: "Carousel", color: "bg-green-500", icon: "layers", desc: "แนะนำสินค้า การที่ได้เจอสินค้าที่ตรงใจ จะช่วยให้ลูกค้าสามารถเลือกซื้อสินค้าที่ต้องการได้อย่างสะดวก เพิ่มโอกาสในการซื้อได้มากขึ้น", jsonCode: lotteryJson2, renderer: 'type2' },
                { id: 3, title: "Lucky Numbers", type: "Carousel", color: "bg-purple-600", icon: "star", desc: "ดีไซน์ใหม่ 2025: 1 การ์ดรวมผลรางวัล 2 เจ้า จัดวางแบบ Stack พร้อม Gradient Background", jsonCode: lotteryJson3, renderer: 'type3' },
                { id: 5, title: "Buying Process", type: "Horizontal Timeline", color: "bg-orange-500", icon: "activity", desc: "Process Flow แนวนอน แสดงสถานะการสั่งซื้อพร้อมเส้น Progress ไล่เฉดสี", jsonCode: lotteryJson5, renderer: 'type5' },
            ];

            return (
                <div className="min-h-screen bg-slate-50 pt-24 pb-12 px-6">
                    {selectedJson && <JsonModal title={selectedJson.title} code={selectedJson.jsonCode} onClose={() => setSelectedJson(null)} />}
                    <div className="max-w-6xl mx-auto">
                        <div className="flex items-center mb-8 cursor-pointer text-slate-500 hover:text-green-600" onClick={() => setPage('home')}>
                            <Icon name="arrow-left" size={20} className="mr-2" /> กลับหน้าหลัก
                        </div>
                        <h2 className="text-4xl font-bold text-slate-900 mb-2">Flex Message Showcase</h2>
                        <p className="text-slate-500 mb-10">รวมรูปแบบ JSON Message ดีไซน์พิเศษสำหรับธุรกิจ</p>
                        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6 items-start">
                            {flexItems.map((item) => (
                                <div key={item.id} className="bg-white rounded-2xl shadow-lg border border-slate-100 overflow-hidden hover:shadow-lg transition-all flex flex-col h-full">
                                    <div className={`bg-slate-200 p-4 flex justify-center items-center overflow-hidden ${[2, 3, 5].includes(item.id) ? 'h-[350px]' : 'h-[530px]'}`}>
                                        <div className="w-full max-w-[300px]">
                                            {item.renderer === 'type1' && <LotteryFlexRenderer json={item.jsonCode} />}
                                            {item.renderer === 'type2' && <Type2CarouselRenderer json={item.jsonCode} />}
                                            {item.renderer === 'type3' && <Type3CarouselRenderer json={item.jsonCode} />}
                                            {item.renderer === 'type4' && <Type4StepRenderer json={item.jsonCode} />}
                                            {item.renderer === 'type5' && <Type5ProcessRenderer json={item.jsonCode} />}
                                            {item.renderer === 'type6' && <Type6PortraitCarouselRenderer json={item.jsonCode} />}
                                        </div>
                                    </div>
                                    <div className="p-6 mt-auto">
                                        <div className="flex justify-between items-start mb-3"><h3 className="text-xl font-bold text-slate-800 line-clamp-1">{item.title}</h3><span className="text-[10px] font-bold px-2 py-1 bg-slate-100 text-slate-500 rounded uppercase tracking-wide">{item.type}</span></div>
                                        <p className="text-sm text-slate-500 leading-relaxed mb-4">{item.desc}</p>
                                        <button onClick={() => setSelectedJson(item)} className="w-full py-2.5 rounded-xl border border-slate-200 text-slate-600 font-medium text-sm hover:bg-slate-50 hover:border-red-600 hover:text-red-600 transition flex items-center justify-center"><Icon name="code" size={16} className="mr-2" /> ดูโค้ด JSON</button>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [page, setPage] = useState('home');
            useEffect(() => { window.scrollTo(0, 0); }, [page]);
            return (
                <div className="antialiased">
                    <Navbar setPage={setPage} currentPage={page} />
                    <main>
                        {page === 'home' && <HomePage setPage={setPage} />}
                        {page === 'flex' && <FlexPage setPage={setPage} />}
                        {page === 'platform' && <PlatformPage setPage={setPage} />}
                    </main>
                    <footer className="bg-slate-900 text-slate-400 py-8 text-center text-sm"><p>© 2024 My Portfolio. Built with React & Tailwind CSS.</p></footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
